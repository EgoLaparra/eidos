taxonomy: org/clulab/wm/eidos/portuguese/grammars/taxonomy.yml

# all variables defined in this file are available to use in the following rules
vars: org/clulab/wm/eidos/portuguese/grammars/triggers.yml

rules:
  - name: "avoid-triggers"
    label: PossibleTrigger
    priority: 1
    type: token
    pattern: |
      #[tag=/^VERB|NOUN/ & word=/^(${increase_triggers}|${noncausal_increase_triggers}|${decrease_triggers}|${noncausal_decrease_triggers}|${cause_triggers}|${nonavoid_causal_triggers}|${reverse_direction_cause_triggers}|${affect_triggers}|${nonavoid_affect_triggers}|${correlation_triggers})/]
      [word=/(?i)^(${increase_triggers}|${noncausal_increase_triggers}|${decrease_triggers}|${noncausal_decrease_triggers}|${cause_triggers}|${nonavoid_causal_triggers}|${reverse_direction_cause_triggers}|${affect_triggers}|${nonavoid_affect_triggers}|${correlation_triggers})/ & !word=/${disallowed_suffixes}/]

  - name: "avoid-conjunctions"
    label: Avoid
    priority: 1
    type: token
    pattern: |
      [tag=CCONJ]

  - name: "avoid-coref-demonstratives"
    label: Coref
    priority: 1
    type: token
    pattern: |
      # sometimes the tag is incorrect, that is why there are multiple versions for 'esse'
      [lemma=/(?i)^(amba|essa|esse|este|esta|aquele|tal)$/]

  - name: "avoid-parentheticals"
    label: Avoid
    priority: 1
    type: token
    pattern: |
      # digits are a-ok!
      [lemma="-lrb-"]
      [word=/^[^%\d]+$/]*
      [lemma="-rrb-"]

  - name: "avoid-common-headers"
    label: Avoid
    priority: 1
    type: token
    pattern: |
      # digits are a-ok!
      [word="RESUMO"]

  - name: "references-et-al"
    label: Citation
    priority: 3
    type: token
    pattern: |
      [tag=/^(PROPN|NOUN)$/] "et" [lemma=/^al\.?$/] [lemma=/^(\.?,)$/]? [word=/^([\d]{4})/]?

  - name: "coref-demonstratives"
    label: Coref
    priority: 1
    type: token
    pattern: |
      # sometimes the tag is incorrect, that is why there are multiple versions for 'esse'
      [lemma=/(?i)^(amba|essa|esse|este|esta|aquele|tal)$/]