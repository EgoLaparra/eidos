taxonomy: org/clulab/wm/eidos/portuguese/grammars/entities/grammar/taxonomy.yml

vars: org/clulab/wm/eidos/portuguese/grammars/triggers.yml

rules:

  - name: "avoid-coref-demonstratives"
    label: Avoid
    priority: 1
    type: token
    pattern: |
      # sometimes the tag is incorrect, that is why there are multiple versions for 'esse'
      [lemma=/^(amba|essa|esse|este|esta|aquele|tal)$/]

  # # OURS HERE:
  # - name: "triggers"
  #   label: Avoid-Strict
  #   priority: 1
  #   type: token
  #   pattern: |
  #     # avoid coordinations
  #     # we want any coordinated entities we might encounter to be split
  #     [word = /(?i)^(${increase_triggers}|${decrease_triggers}|${noncausal_increase_triggers}|${noncausal_decrease_triggers}|${cause_triggers}|${correlation_triggers}|${reverse_direction_cause_triggers})/] # triggers used downstream
  #     # This is if we want to no avoid the increase/decrease triggers at all...
  #     #[word = /(?i)^(${cause_triggers}|${correlation_triggers})/] # triggers used downstream

  - name: "avoid-parentheticals"
    label: Avoid
    priority: 1
    type: token
    pattern: |
      # digits are a-ok!
      [lemma="-lrb-"]
      [word=/^[^%\d]+$/]*
      [lemma="-rrb-"]

  - name: "references-et-al"
    label: Avoid
    priority: 3
    type: token
    pattern: |
      # avoid xrefs
      [tag=/PROPN|NOUN/] "et" "al." [word=/([\d]{4})/]*

